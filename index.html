<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Reading Proficiency by Country</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    html, body {
      height: 100%;
      background: #fff;
      font-family: sans-serif;
    }
    .container {
      display: flex;
      justify-content: center;  /* 가로 중앙 */
      align-items: center;      /* 세로 중앙 */
      height: 100vh;            /* 화면 전체 높이 */
      flex-direction: column;
    }
    canvas {
      max-width: 1000px;
      width: 90%;
    }
    h2 {
      margin-bottom: 20px;
    }
  </style>
</head>
<body>

<div class="container">
  <h2>Grade 2 Reading Proficiency (2014 vs 2019)</h2>
  <canvas id="barChart"></canvas>
</div>

<script>
  const countries = ['BDI', 'BEN', 'BFA', 'CIV', 'CMR', 'COD', 'COG', 'GAB', 'GIN', 'MDG', 'NER', 'SEN', 'TCD', 'TGO'];
  const data2014 = [79.1, 9.6, 35.4, 17.3, 29.7, null, 38, null, null, null, 9.8, 28.9, 18.1, 20.1];
  const data2019 = [78.9, 37.7, 34.2, 33.1, 39.4, 41.6, 63.3, 66.1, 23.3, 55.3, 44.4, 47.7, 34, 24.5];

  const filteredCountries = [];
  const values2014 = [];
  const values2019 = [];

  countries.forEach((country, i) => {
    if (data2014[i] !== null || data2019[i] !== null) {
      filteredCountries.push(country);
      values2014.push(data2014[i]);
      values2019.push(data2019[i]);
    }
  });

  new Chart(document.getElementById('barChart'), {
    type: 'bar',
    data: {
      labels: filteredCountries,
      datasets: [
        {
          label: '2014',
          data: values2014,
          backgroundColor: 'rgba(52, 152, 219, 0.7)'
        },
        {
          label: '2019',
          data: values2019,
          backgroundColor: 'rgba(46, 204, 113, 0.7)'
        }
      ]
    },
    options: {
      indexAxis: 'y',
      responsive: true,
      maintainAspectRatio: false,
      scales: {
        x: {
          beginAtZero: true,
          title: {
            display: true,
            text: 'Proficiency (%)'
          }
        },
        y: {
          title: {
            display: true,
            text: 'Country'
          }
        }
      },
      plugins: {
        title: {
          display: true,
          text: 'Proportion of Grade 2 Students Achieving Reading Proficiency'
        },
        tooltip: {
          enabled: true,
          callbacks: {
            label: function(context) {
              return `${context.dataset.label}: ${context.parsed.x ?? 'No data'}%`;
            }
          }
        }
      }
    }
  });
</script>
</body>
</html>
